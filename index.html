<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Form + Live Results</title>

    <!-- No-cache hints to reduce stale loads -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <style>
      :root{
        /* Form sizing */
        --form-initial-min: 640px;   /* while filling */
        --form-initial-max: 1100px;
        --form-after-submit: 320px;  /* after submit */

        /* Google published chart base size (your original embed size) */
        --chart-base-w: 600;   /* px */
        --chart-base-h: 377;   /* px */

        /* Extra height to accommodate legend when placed UNDER the chart */
        --chart-legend-h: 120; /* px — tweak to 80–140 if needed */
      }

        /* Transparent page so EG background shows through */
      html, body { margin:0; padding:0; background:transparent; font-family: Arial, sans-serif; }

      .container { width:100%; margin:0 auto; padding:16px; box-sizing:border-box; padding-bottom:8px; }
      .block { margin-bottom:24px; }
      .block:last-child { margin-bottom:0; }

      iframe { width:100%; border:0; display:block; }

      /* Form: tall while filling, then shrinks */
      #formFrame {
        height: clamp(var(--form-initial-min), 90vh, var(--form-initial-max));
        transition: height 240ms ease;
      }

      /* Chart scaler (makes fixed-size Google chart responsive) */
      #results .chart-outer { width:100%; margin:0 auto; }
      #chartContainer { width:100%; overflow:hidden; }          /* prevents cut-off/scrollbars */
      #chartScaler {
        width: calc(var(--chart-base-w) * 1px);
        /* base height + extra for legend when legend is bottom */
        height: calc((var(--chart-base-h) + var(--chart-legend-h)) * 1px);
        transform-origin: 0 0;   /* scale from t*
