<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Form + Live Results</title>
    <style>
      :root{
        /* Tweak these if you want different sizes */
        --form-initial-min: 640px;   /* form height while filling */
        --form-initial-max: 1100px;
        --form-after-submit: 320px;  /* form height after submit */
        --chart-aspect: 16 / 10;     /* width / height ratio for chart */
      }

      html, body { margin:0; padding:0; background:#fff; font-family: Arial, sans-serif; }
      /* Let content use full width so the chart can grow; keep a little padding */
      .container { width: 100%; margin: 0 auto; padding: 16px; box-sizing: border-box; }
      .block { margin-bottom: 24px; }

      /* Make iframes fluid and block-level */
      iframe { width: 100%; border: 0; display: block; }

      /* Form height: flexible while filling */
      #formFrame {
        height: clamp(var(--form-initial-min), 90vh, var(--form-initial-max));
        transition: height 240ms ease;
      }

      /* Chart: responsive using aspect-ratio so the iframe always fills its box */
      .chart-wrap {
        width: 100%;
        aspect-ratio: var(--chart-aspect);
        position: relative; /* fallback anchor */
      }
      .chart-wrap iframe {
        width: 100%;
        height: 100
